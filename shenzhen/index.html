<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ·±åœ³åœ°é“æ–‡æœ¬åˆ†æå™¨ v2.1</title>
    <style>
        :root {
            --primary-color: #0066FF;
            --bg-color: #F5F7FA;
            --card-bg: #FFFFFF;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--bg-color);
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }
        }

        .panel {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
        }

        textarea {
            width: 100%;
            height: 400px;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            font-size: 14px;
            resize: vertical;
            outline: none;
            transition: border-color 0.3s;
            box-sizing: border-box;
        }

        textarea:focus {
            border-color: var(--primary-color);
        }

        .controls {
            margin: 15px 0;
            display: flex;
            gap: 15px;
            justify-content: space-between;
            align-items: center;
        }

        .right-controls {
            display: flex;
            gap: 10px;
        }

        .mode-switch {
            display: flex;
            background: #e4e7eb;
            padding: 4px;
            border-radius: 8px;
        }

        .mode-btn {
            padding: 8px 16px;
            border: none;
            background: transparent;
            cursor: pointer;
            border-radius: 6px;
            font-weight: 500;
            color: #666;
            transition: all 0.3s;
        }

        .mode-btn.active {
            background: white;
            color: var(--primary-color);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        button.primary-btn {
            padding: 10px 24px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
        }

        button.primary-btn:hover {
            background-color: #0052cc;
        }

        button.secondary {
            padding: 10px 16px;
            background-color: transparent;
            color: #666;
            border: 1px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
        }

        button.secondary:hover {
            background-color: #f8f9fa;
        }

        #result-area {
            height: 400px;
            overflow-y: auto;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 15px;
        }

        .group-card {
            margin-bottom: 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            overflow: hidden;
        }

        .group-header {
            background: #f8f9fa;
            padding: 10px 15px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 4px solid var(--primary-color);
        }

        .line-header {
            border-left-color: #00b894;
        }

        .badge {
            background: #e4e7eb;
            color: #333;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 12px;
        }

        .station-list {
            padding: 10px 15px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .station-tag {
            background: #e3f2fd;
            color: var(--primary-color);
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 13px;
        }

        .empty-state {
            text-align: center;
            color: #999;
            margin-top: 100px;
        }

        .stats-bar {
            grid-column: 1 / -1;
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            gap: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.03);
            flex-wrap: wrap;
        }

        .stats-item strong {
            font-size: 18px;
            color: var(--primary-color);
        }

        .line-legend {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
    </style>
</head>

<body>
    <h1>ğŸš‡ æ·±åœ³åœ°é“æ–‡æœ¬åˆ†æå™¨ v2.1</h1>

    <div class="stats-bar" id="stats-bar" style="display: none;">
        <div class="stats-item">å‘ç°åˆ†ç±»: <strong id="stat-groups">0</strong> ä¸ª</div>
        <div class="stats-item">åŒ¹é…ç«™ç‚¹: <strong id="stat-stations">0</strong> ä¸ª</div>
        <div class="stats-item">æœ€çƒ­åˆ†ç±»: <strong id="stat-hot">--</strong></div>
    </div>

    <div class="container">
        <div class="panel">
            <h3>ğŸ“ è¾“å…¥æ–‡æœ¬ (åšä¸»æ–‡æ¡ˆ/æ ‡é¢˜)</h3>
            <textarea id="input-text"
                placeholder="è¯·åœ¨æ­¤ç²˜è´´éœ€è¦åˆ†æçš„æ–‡æœ¬å†…å®¹...&#10;ä¾‹å¦‚ï¼š&#10;è½¬ç§Ÿæœ¨å¤ç«™å•é—´ï¼Œé è¿‘åŒæ‹¥è¡—åœ°é“ç«™&#10;ç¦ç”°å£å²¸é™„è¿‘å¥½æˆ¿ï¼Œ4å·çº¿ç›´è¾¾..."></textarea>
            <div class="controls">
                <div class="mode-switch">
                    <button class="mode-btn active" onclick="setMode('district')" id="btn-district">æŒ‰è¡Œæ”¿åŒº</button>
                    <button class="mode-btn" onclick="setMode('line')" id="btn-line">æŒ‰çº¿è·¯</button>
                </div>
                <div class="right-controls">
                    <button class="secondary" onclick="clearText()">æ¸…ç©º</button>
                    <button class="primary-btn" onclick="analyzeText()">å¼€å§‹åˆ†æ</button>
                </div>
            </div>
            <div class="line-legend" id="mode-desc">å½“å‰æ¨¡å¼ï¼šåˆ†ææˆ¿æºæ‰€åœ¨çš„è¡Œæ”¿åŒºåˆ†å¸ƒ</div>
        </div>

        <div class="panel">
            <h3>ğŸ“Š åˆ†æç»“æœ</h3>
            <div id="result-area">
                <div class="empty-state">ç­‰å¾…åˆ†æç»“æœ...</div>
            </div>
        </div>
    </div>

    <script>
        const db = {
            districts: {
                "ç½—æ¹–åŒº": [
                    "ç½—æ¹–", "å›½è´¸", "è€è¡—", "å¤§å‰§é™¢", "æ¹–è´", "é»„è´å²­", "æ–°ç§€", "è²å¡˜å£å²¸", "ä»™æ¹–è·¯", "è²å¡˜",
                    "æ–‡é”¦", "å‘è¥¿æ‘", "äººæ°‘å—", "é¹¿ä¸¹æ‘", "çº¢å²­å—", "å›­å²­", "çº¢å²­", "çº¢å²­åŒ—", "ç¬‹å²—", "æ´ªæ¹–",
                    "å¸ƒå¿ƒ", "å¤ªå®‰", "æ€¡æ™¯", "é“¶æ¹–", "æ¢§æ¡å±±å—", "ç½—æ¹–åŒ—", "ä¸œé—¨"
                ],
                "ç¦ç”°åŒº": [
                    "ç§‘å­¦é¦†", "åå¼ºè·¯", "å²—å¦", "ä¼šå±•ä¸­å¿ƒ", "è´­ç‰©å…¬å›­", "é¦™èœœæ¹–", "è½¦å…¬åº™", "ç«¹å­æ—", "ç¦ç”°",
                    "å¸‚æ°‘ä¸­å¿ƒ", "å²—å¦åŒ—", "åå¼ºåŒ—", "ç‡•å—", "çš‡å²—æ‘", "çš‡å²—å£å²¸", "åå¼ºå—", "èµ¤å°¾", "ç¦é‚»",
                    "é»„æœ¨å²—", "æ™¯ç”°", "è²èŠ±è¥¿", "é¦™æ¢…", "ä¸‹æ²™", "æ²™å°¾", "ä¸Šæ²™", "å†œæ—", "æ¢…æ‘", "å­–å²­",
                    "æ³¥å²—", "ä¸Šæ¢…æ—", "è²èŠ±åŒ—", "å°‘å¹´å®«", "ç¦æ°‘", "çŸ³å¦", "ç›Šç”°", "ç¦ç”°å£å²¸", "ç¦ä¿", "å†¬ç“œå²­", "é€šæ–°å²­", "åæ–°", "é¦™æ¢…åŒ—", "è²èŠ±æ‘",
                    "é¦™èœœ", "ä½“è‚²ä¸­å¿ƒ", "å…«å¦å²­", "æ·±æ¹¾", "æ¢…æ™¯", "ä¸‹æ¢…æ—"
                ],
                "å—å±±åŒº": [
                    "ä¾¨åŸä¸œ", "åä¾¨åŸ", "ä¸–ç•Œä¹‹çª—", "ç™½çŸ³æ´²", "é«˜æ–°å›­", "æ·±å¤§", "æ¡ƒå›­", "å¤§æ–°", "é²¤é±¼é—¨",
                    "å‰æµ·æ¹¾", "èµ¤æ¹¾", "è›‡å£æ¸¯", "æµ·ä¸Šä¸–ç•Œ", "æ°´æ¹¾", "ä¸œè§’å¤´", "æ¹¾å¦", "æµ·æœˆ", "ç™»è‰¯",
                    "åæµ·", "ç§‘è‹‘", "çº¢æ ‘æ¹¾", "ä¾¨åŸåŒ—", "æ·±åº·", "å®‰æ‰˜å±±", "ä¾¨é¦™", "æ·±åœ³æ¹¾å…¬å›­", "æ·±åœ³æ¹¾å£å²¸",
                    "äººæ‰å…¬å›­", "ç§‘å…´", "æ¾åª", "è¥¿ä¸½æ¹–", "èŒ¶å…‰", "ç å…‰", "é¾™äº•", "æ¡ƒæºæ‘", "æ·±äº‘",
                    "è¥¿ä¸½", "å¤§å­¦åŸ", "å¡˜æœ—", "é•¿å²­é™‚", "ç•™ä»™æ´", "çŸ³é¼“", "è¥¿ä¸½é«˜é“ç«™", "å—å±±", "å—æ²¹",
                    "å—æ²¹è¥¿", "è”æ—", "æ€¡æµ·", "æ¢¦æµ·", "æ¡‚æ¹¾", "å‰æ¹¾", "å‰æ¹¾å…¬å›­", "å¦ˆæ¹¾", "é“è·¯å…¬å›­", "æœˆäº®æ¹¾å…¬å›­",
                    "é«˜æ–°å—", "ç²¤æµ·é—¨", "æ·±å¤§å—", "å—å±±ä¹¦åŸ", "çº¢æ ‘æ¹¾å—", "å­¦åŸ",
                    "è”æ¹¾", "æ·±å¤§ä¸½æ¹–", "å·¦ç‚®å°ä¸œ", "å¤ªå­æ¹¾", "èŠ±æœå±±", "å››æµ·", "ç§‘æŠ€å›­", "å—å¤´å¤åŸ", "åŒä¹", "é«˜æ–°ä¸­", "é«˜æ–°åŒ—", "ç™¾æ—ºæ¸¯å¤§"
                ],
                "å®å®‰åŒº": [
                    "æ–°å®‰", "å®å®‰ä¸­å¿ƒ", "å®ä½“", "åªæ´²", "è¥¿ä¹¡", "å›ºæˆ", "åç‘", "æœºåœºä¸œ", "ç¢§æµ·æ¹¾", "æœºåœº",
                    "æœºåœºåŒ—", "é‡åº†è·¯", "å›½å±•ä¸­å¿ƒå—", "å›½å±•ä¸­å¿ƒåŒ—", "ä¼šè®®ä¸­å¿ƒ", "ç¦æ°¸", "æ¡¥å¤´", "å¡˜å°¾",
                    "é©¬å®‰å±±", "æ²™äº•", "åäº­", "ç¢§å¤´", "æ´ªæµªåŒ—", "å…´ä¸œ", "å®˜é¾™", "ç™½èŠ’", "åº”äººçŸ³", "ç½—ç§Ÿ",
                    "çŸ³å²©", "ä¸Šå±‹", "é•¿åœ³", "è§‚å…‰è·¯", "å…¬æ˜å¹¿åœº", "åˆæ°´å£", "è–¯ç”°åŸ”", "æ¾å²—å…¬å›­", "æºªå¤´",
                    "æ¾å²—", "åœ³ç¾", "ä¸­å¤§", "ç§‘å­¦åŸä¸œ", "æ¡ƒå›­å±…", "æ´²çŸ³è·¯", "é’Ÿå±‹", "é»„ç”°", "ç¿ å²—å·¥ä¸šå›­",
                    "æ€€å¾·", "æ°¸å’Œ", "å’Œå¹³", "æµ·ä¸Šç”°å›­ä¸œ", "ç¿»èº«", "çµèŠ", "ä¸Šå·", "æµå¡˜", "å®å®‰å®¢è¿ç«™",
                    "å®ç”°ä¸€è·¯", "å¹³å³¦å±±", "é“ä»”å±±", "è‡£ç”°", "å®å", "ä¸´æµ·", "å®å®‰", "ä¼šå±•åŸ", "èšä¹¡",
                    "å‡¯å¾·", "æ–°å®‰å…¬å›­", "å®å®‰å®¢è¿ä¸­å¿ƒ", "å›½å±•å—", "å›½å±•", "å›½å±•åŒ—"
                ],
                "é¾™å²—åŒº": [
                    "æ°‘æ²»", "äº”å’Œ", "å‚ç”°", "æ¨ç¾", "ä¸Šæ°´å¾„", "ä¸‹æ°´å¾„", "é•¿é¾™", "ç™¾é¸½ç¬¼", "åŒé¾™", "é¾™åŸå¹¿åœº",
                    "å‰ç¥¥", "å¤§è¿", "æ¨ªå²—", "å…­çº¦", "ä¸¹ç«¹å¤´", "å¤§èŠ¬", "æœ¨æ£‰æ¹¾", "å¸ƒå‰", "è‰åŸ”", "æ°´è´",
                    "ç”°è´", "ç¿ ç«¹", "æ™’å¸ƒ", "å…­çº¦åŒ—", "çŸ³èŠ½å²­", "å³èƒŒ", "å››è”", "å®é¾™", "é¾™ä¸œ", "æ–°å¡˜å›´",
                    "å¤§è¿ä¸­å¿ƒ", "é¾™åŸå…¬å›­", "é»„é˜å‘", "æ„‰å›­", "å›é¾™åŸ”", "é¾™å²—æ±½è½¦ç«™", "å¤©ç¥–", "åªåœ°å…­è”",
                    "æœ¨å¤", "ç¦¾èŠ±", "åå—åŸ", "å¹³æ¹–", "åŒæ‹¥è¡—", "å‡‰å¸½å±±", "ä¸Šææœ—", "ç”˜å‘", "é›ªè±¡", "å²—å¤´", "åä¸º", "å…‰é›…å›­", "å‚ç”°åŒ—", "é›…å®",
                    "å¡˜å‘", "æ°¸æ¹–", "è·å³", "çˆ±è”", "å—è”", "æ¢¨å›­", "æ–°ç”Ÿ", "åªè¥¿", "ä½ç¢³åŸ", "å°šæ™¯", "ç››å¹³", "é¾™å›­"
                ],
                "é¾™ååŒº": [
                    "çº¢å±±", "æ·±åœ³åŒ—ç«™", "ç™½çŸ³é¾™", "æ°‘ä¹", "æ¸…æ¹–", "é¾™å", "é¾™èƒœ", "ä¸Šå¡˜", "è§‚æ¾œæ¹–", "æ¾å…ƒå¦",
                    "è§‚æ¾œ", "é•¿æ¹–", "èŒœå‘", "ç«¹æ‘", "æ¸…æ¹–åŒ—", "ç‰›æ¹–", "å…ƒèŠ¬", "é˜³å°å±±ä¸œ", "ä¸ŠèŠ¬", "æ¢…æ—å…³", "ç¿°å²­",
                    "æ·±åœ³åŒ—"
                ],
                "ç›ç”°åŒº": [
                    "æ¢§æ¡å±±å—", "æ²™å¤´è§’", "æµ·å±±", "ç›ç”°æ¸¯è¥¿", "æ·±å¤–é«˜ä¸­", "ç›ç”°è·¯", "æ´ªå®‰", "åŒ—å±±é“", "ç›ç”°é£Ÿè¡—", "å¤§æ¢…æ²™", "å°æ¢…æ²™", "é¸¿å®‰å›´", "ç›ç”°å¢Ÿ"
                ],
                "å…‰æ˜åŒº": [
                    "å…‰æ˜å¤§è¡—", "ç¿ æ¹–", "å…‰æ˜æ–°åŸ", "æ¥¼æ‘", "å—åº„", "å…‰æ˜åŸ", "è™¹æ¡¥å…¬å›­", "ç¢§çœ¼", "å…‰æ˜",
                    "åœ³ç¾", "ä¸­å¤§", "æ·±ç†å·¥", "å‡¤å‡°åŸ", "é•¿åœ³", "ç§‘å­¦å…¬å›­", "ä¸­å±±å¤§å­¦", "å®˜ç”°"
                ],
                "åªå±±åŒº": [
                    "æ²™ç”°", "å‘æ¢“", "åªå±±ä¸­å¿ƒ", "åªå±±å¹¿åœº", "åªå±±å›´", "é”¦é¾™", "å—çº¦", "å¶‚èƒŒ", "ç”°å¿ƒ",
                    "æŠ€æœ¯å¤§å­¦", "çŸ³äº•", "ç‡•å­æ¹–", "æ²™å£†", "ä¸œçºµçºªå¿µé¦†", "åªç¯", "å…­å’Œ", "æ–°å’Œ", "åªå±±",
                    "å®é¾™åŒä¹", "ç‡•å­å²­", "èšé¾™", "æ²™æ¹–", "ç›˜é¾™åŸ",
                    "ç™½çŸ³å¡˜", "å¯Œåª"
                ],
                "å¤§é¹æ–°åŒº": [
                    "æºªæ¶Œ"
                ]
            },
            lines: {
                "1å·çº¿ (ç½—å®çº¿)": [
                    "ç½—æ¹–", "å›½è´¸", "è€è¡—", "å¤§å‰§é™¢", "ç§‘å­¦é¦†", "åå¼ºè·¯", "å²—å¦", "ä¼šå±•ä¸­å¿ƒ", "è´­ç‰©å…¬å›­", "é¦™èœœæ¹–",
                    "è½¦å…¬åº™", "ç«¹å­æ—", "ä¾¨åŸä¸œ", "åä¾¨åŸ", "ä¸–ç•Œä¹‹çª—", "ç™½çŸ³æ´²", "é«˜æ–°å›­", "æ·±å¤§", "æ¡ƒå›­", "å¤§æ–°",
                    "é²¤é±¼é—¨", "å‰æµ·æ¹¾", "æ–°å®‰", "å®å®‰ä¸­å¿ƒ", "å®ä½“", "åªæ´²", "è¥¿ä¹¡", "å›ºæˆ", "åç‘", "æœºåœºä¸œ"
                ],
                "2å·çº¿/8å·çº¿": [
                    "èµ¤æ¹¾", "è›‡å£æ¸¯", "æµ·ä¸Šä¸–ç•Œ", "æ°´æ¹¾", "ä¸œè§’å¤´", "æ¹¾å¦", "æµ·æœˆ", "ç™»è‰¯", "åæµ·", "ç§‘è‹‘",
                    "çº¢æ ‘æ¹¾", "ä¸–ç•Œä¹‹çª—", "ä¾¨åŸåŒ—", "æ·±åº·", "å®‰æ‰˜å±±", "ä¾¨é¦™", "é¦™èœœ", "é¦™æ¢…åŒ—", "æ™¯ç”°", "è²èŠ±è¥¿",
                    "ç¦ç”°", "å¸‚æ°‘ä¸­å¿ƒ", "å²—å¦åŒ—", "åå¼ºåŒ—", "ç‡•å—", "å¤§å‰§é™¢", "æ¹–è´", "é»„è´å²­", "æ–°ç§€", "è²å¡˜å£å²¸",
                    "ä»™æ¹–è·¯", "è²å¡˜", "æ¢§æ¡å±±å—", "æ²™å¤´è§’", "æµ·å±±", "ç›ç”°æ¸¯è¥¿", "æ·±å¤–é«˜ä¸­", "ç›ç”°è·¯", "é¸¿å®‰å›´", "ç›ç”°å¢Ÿ",
                    "å¤§æ¢…æ²™", "å°æ¢…æ²™", "æºªæ¶Œ"
                ],
                "3å·çº¿ (é¾™å²—çº¿)": [
                    "ç¦ä¿", "ç›Šç”°", "çŸ³å¦", "è´­ç‰©å…¬å›­", "ç¦ç”°", "å°‘å¹´å®«", "è²èŠ±æ‘", "åæ–°", "é€šæ–°å²­", "çº¢å²­",
                    "è€è¡—", "æ™’å¸ƒ", "ç¿ ç«¹", "ç”°è´", "æ°´è´", "è‰åŸ”", "å¸ƒå‰", "æœ¨æ£‰æ¹¾", "å¤§èŠ¬", "ä¸¹ç«¹å¤´",
                    "å…­çº¦", "å¡˜å‘", "æ°¸æ¹–", "è·å³", "å¤§è¿", "çˆ±è”", "å‰ç¥¥", "é¾™åŸå¹¿åœº", "å—è”",
                    "åŒé¾™", "æ¢¨å›­", "æ–°ç”Ÿ", "åªè¥¿", "ä½ç¢³åŸ", "ç™½çŸ³å¡˜", "å¯Œåª", "åªåœ°å…­è”"
                ],
                "4å·çº¿ (é¾™åçº¿)": [
                    "ç¦ç”°å£å²¸", "ç¦æ°‘", "ä¼šå±•ä¸­å¿ƒ", "å¸‚æ°‘ä¸­å¿ƒ", "å°‘å¹´å®«", "è²èŠ±åŒ—", "ä¸Šæ¢…æ—", "æ°‘ä¹", "ç™½çŸ³é¾™", "æ·±åœ³åŒ—ç«™",
                    "çº¢å±±", "ä¸Šå¡˜", "é¾™èƒœ", "é¾™å", "æ¸…æ¹–", "æ¸…æ¹–åŒ—", "ç«¹æ‘", "èŒœå‘", "é•¿æ¹–", "è§‚æ¾œ",
                    "æ¾å…ƒå¦", "è§‚æ¾œæ¹–", "ç‰›æ¹–"
                ],
                "5å·çº¿ (ç¯ä¸­çº¿)": [
                    "èµ¤æ¹¾", "è”æ¹¾", "é“è·¯å…¬å›­", "å¦ˆæ¹¾", "å‰æ¹¾å…¬å›­", "å‰æ¹¾", "æ¡‚æ¹¾", "å‰æµ·æ¹¾", "ä¸´æµ·", "å®å",
                    "å®å®‰ä¸­å¿ƒ", "ç¿»èº«", "çµèŠ", "æ´ªæµªåŒ—", "å…´ä¸œ", "ç•™ä»™æ´", "è¥¿ä¸½", "å­¦åŸ", "å¡˜æœ—", "é•¿å²­é™‚",
                    "æ·±åœ³åŒ—", "æ°‘æ²»", "äº”å’Œ", "å‚ç”°", "æ¨ç¾", "ä¸Šæ°´å¾„", "ä¸‹æ°´å¾„", "é•¿é¾™", "å¸ƒå‰", "ç™¾é¸½ç¬¼",
                    "å¸ƒå¿ƒ", "å¤ªå®‰", "æ€¡æ™¯", "é»„è´å²­", "æ¹–è´", "ä¸œé—¨", "å¤§å‰§é™¢"
                ],
                "6å·çº¿ (å…‰æ˜çº¿)": [
                    "ç§‘å­¦é¦†", "é€šæ–°å²­", "ä½“è‚²ä¸­å¿ƒ", "å…«å¦å²­", "é“¶æ¹–", "ç¿°å²­", "æ¢…æ—å…³", "æ·±åœ³åŒ—", "çº¢å±±", "ä¸ŠèŠ¬",
                    "å…ƒèŠ¬", "é˜³å°å±±ä¸œ", "å®˜ç”°", "ä¸Šå±‹", "é•¿åœ³", "å‡¤å‡°åŸ", "å…‰æ˜å¤§è¡—", "ç¿ æ¹–", "è§‚å…‰è·¯", "åœ³ç¾",
                    "ä¸­å±±å¤§å­¦", "ç§‘å­¦å…¬å›­", "å…‰æ˜", "å—åº„", "å…¬æ˜å¹¿åœº", "åˆæ°´å£", "è–¯ç”°åŸ”", "æ¾å²—å…¬å›­", "æºªå¤´", "æ¾å²—"
                ],
                "7å·çº¿ (è¥¿ä¸½çº¿)": [
                    "è¥¿ä¸½æ¹–", "æ·±å¤§ä¸½æ¹–", "å¤§å­¦åŸ", "æ¡ƒæºæ‘", "æ·±äº‘", "å®‰æ‰˜å±±", "å†œæ—", "è½¦å…¬åº™", "ä¸Šæ²™", "çš‡å²—æ‘",
                    "ç¦æ°‘", "çš‡å²—å£å²¸", "èµ¤å°¾", "åå¼ºå—", "åå¼ºåŒ—", "åæ–°", "é»„æœ¨å²—", "ç¬‹å²—", "æ´ªæ¹–", "æ™’å¸ƒ",
                    "ç¿ ç«¹", "ç”°è´", "å¤ªå®‰"
                ],
                "9å·çº¿ (æ¢…æ—çº¿)": [
                    "å‰æ¹¾", "æ¢¦æµ·", "æ€¡æµ·", "è”æ—", "å—æ²¹è¥¿", "å—æ²¹", "å—å±±ä¹¦åŸ", "æ·±å¤§å—", "ç²¤æµ·é—¨", "é«˜æ–°å—",
                    "çº¢æ ‘æ¹¾å—", "æ·±æ¹¾", "æ·±åœ³æ¹¾å…¬å›­", "ä¸‹æ²™", "è½¦å…¬åº™", "é¦™æ¢…", "æ™¯ç”°", "æ¢…æ™¯", "ä¸‹æ¢…æ—", "æ¢…æ‘",
                    "ä¸Šæ¢…æ—", "å­–å²­", "é“¶æ¹–", "æ³¥å²—", "çº¢å²­åŒ—", "å›­å²­", "çº¢å²­", "çº¢å²­å—", "é¹¿ä¸¹æ‘", "äººæ°‘å—",
                    "å‘è¥¿æ‘", "æ–‡é”¦"
                ],
                "10å·çº¿ (å‚ç”°çº¿)": [
                    "ç¦ç”°å£å²¸", "ç¦æ°‘", "å²—å¦", "å²—å¦åŒ—", "è²èŠ±æ‘", "å†¬ç“œå²­", "é›…å®", "å‚ç”°åŒ—", "äº”å’Œ", "å…‰é›…å›­",
                    "åä¸º", "å²—å¤´", "é›ªè±¡", "ç”˜å‘", "å‡‰å¸½å±±", "ä¸Šææœ—", "æœ¨å¤", "ç¦¾èŠ±", "åå—åŸ", "å¹³æ¹–", "åŒæ‹¥è¡—"
                ],
                "11å·çº¿ (æœºåœºçº¿)": [
                    "å²—å¦åŒ—", "åå¼ºå—", "ç¦ç”°", "è½¦å…¬åº™", "çº¢æ ‘æ¹¾å—", "åæµ·", "å—å±±", "å‰æµ·æ¹¾", "å®å®‰", "ç¢§æµ·æ¹¾",
                    "æœºåœº", "æœºåœºåŒ—", "ç¦æ°¸", "æ¡¥å¤´", "å¡˜å°¾", "é©¬å¤§å±±", "æ²™äº•", "åäº­", "æ¾å²—", "ç¢§å¤´"
                ],
                "12å·çº¿ (å—å®çº¿)": [
                    "å·¦ç‚®å°ä¸œ", "å¤ªå­æ¹¾", "æµ·ä¸Šä¸–ç•Œ", "èŠ±æœå±±", "å››æµ·", "å—æ²¹", "ç™»è‰¯", "åæµ·", "å‡¯å¾·", "ç§‘æŠ€å›­",
                    "å—å¤´å¤åŸ", "åŒä¹", "æ–°å®‰å…¬å›­", "çµèŠ", "ä¸Šå·", "æµå¡˜", "å®å®‰å®¢è¿ä¸­å¿ƒ", "è‡£ç”°", "é’Ÿå±‹", "é»„ç”°",
                    "æœºåœºä¸œ", "ç¦æ°¸", "ä¼šå±•åŸ", "å’Œå¹³", "æµ·ä¸Šç”°å›­ä¸œ", "æ²™äº•", "èšä¹¡", "æ¾å²—"
                ],
                "13å·çº¿ (çŸ³å²©çº¿)": [
                    "æ·±åœ³æ¹¾å£å²¸", "äººæ‰å…¬å›­", "åæµ·", "ç§‘è‹‘", "ç²¤æµ·é—¨", "æ·±å¤§", "é«˜æ–°ä¸­", "é«˜æ–°åŒ—", "è¥¿ä¸½é«˜é“ç«™", "çŸ³é¼“",
                    "ç•™ä»™æ´", "ç™¾æ—ºæ¸¯å¤§", "åº”äººçŸ³", "ç½—ç§Ÿ", "çŸ³å²©", "ä¸Šå±‹"
                ],
                "14å·çº¿ (ä¸œéƒ¨å¿«çº¿)": [
                    "å²—å¦åŒ—", "é»„æœ¨å²—", "ç½—æ¹–åŒ—", "å¸ƒå‰", "çŸ³èŠ½å²­", "å…­çº¦åŒ—", "å¶‚èƒŒ", "å¤§è¿", "é”¦é¾™", "åªå±±å›´",
                    "åªå±±å¹¿åœº", "åªå±±ä¸­å¿ƒ", "å‘æ¢“", "æ²™ç”°"
                ],
                "16å·çº¿ (é¾™åªçº¿)": [
                    "å¤§è¿", "å¤§è¿ä¸­å¿ƒ", "é¾™åŸå…¬å›­", "é»„é˜å‘", "æ„‰å›­", "å›é¾™åŸ”", "å°šæ™¯", "ç››å¹³", "é¾™å›­", "åŒé¾™",
                    "æ–°å¡˜å›´", "é¾™ä¸œ", "å®é¾™åŒä¹", "åªå±±", "æ–°å’Œ", "å…­å’Œ", "åªå±±å›´", "åªç¯", "ä¸œçºµçºªå¿µé¦†", "æ²™å£†",
                    "ç‡•å­æ¹–", "çŸ³äº•", "æŠ€æœ¯å¤§å­¦", "ç”°å¿ƒ"
                ],
                "20å·çº¿ (ä¼šå±•çº¿)": [
                    "æœºåœºåŒ—", "å›½å±•å—", "å›½å±•", "å›½å±•åŒ—", "ä¼šå±•åŸ"
                ]
            }
        };

        let currentMode = 'district';

        function setMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`btn-${mode}`).classList.add('active');
            const desc = mode === 'district' ? 'å½“å‰æ¨¡å¼ï¼šåˆ†ææˆ¿æºæ‰€åœ¨çš„è¡Œæ”¿åŒºåˆ†å¸ƒ' : 'å½“å‰æ¨¡å¼ï¼šåˆ†ææˆ¿æºé™„è¿‘çš„åœ°é“çº¿è·¯åˆ†å¸ƒ';
            document.getElementById('mode-desc').textContent = desc;
            const text = document.getElementById('input-text').value;
            if (text.trim()) analyzeText();
        }

        function clearText() {
            document.getElementById('input-text').value = '';
            document.getElementById('result-area').innerHTML = '<div class="empty-state">ç­‰å¾…åˆ†æç»“æœ...</div>';
            document.getElementById('stats-bar').style.display = 'none';
        }

        function analyzeText() {
            const text = document.getElementById('input-text').value;
            if (!text.trim()) return;
            const dataSource = currentMode === 'district' ? db.districts : db.lines;
            const results = {};
            const uniqueStations = new Set();
            for (const [groupName, stations] of Object.entries(dataSource)) {
                for (const station of stations) {
                    if (text.includes(station)) {
                        if (!results[groupName]) results[groupName] = new Set();
                        results[groupName].add(station);
                        uniqueStations.add(station);
                    }
                }
            }
            renderResults(results);
            updateStats(results, uniqueStations.size);
        }

        function renderResults(results) {
            const container = document.getElementById('result-area');
            container.innerHTML = '';
            const groups = Object.keys(results).sort((a, b) => results[b].size - results[a].size);
            if (groups.length === 0) {
                container.innerHTML = '<div class="empty-state">æœªåœ¨æ–‡æœ¬ä¸­å‘ç°ä»»ä½•å·²çŸ¥çš„æ·±åœ³åœ°é“ç«™åã€‚</div>';
                return;
            }
            groups.forEach(group => {
                const stations = Array.from(results[group]);
                const card = document.createElement('div');
                card.className = 'group-card';
                const header = document.createElement('div');
                header.className = `group-header ${currentMode === 'line' ? 'line-header' : ''}`;
                header.innerHTML = `<span>${group}</span><span class="badge">${stations.length}</span>`;
                const list = document.createElement('div');
                list.className = 'station-list';
                stations.forEach(station => {
                    const tag = document.createElement('span');
                    tag.className = 'station-tag';
                    tag.textContent = station;
                    list.appendChild(tag);
                });
                card.appendChild(header);
                card.appendChild(list);
                container.appendChild(card);
            });
        }

        function updateStats(results, stationCount) {
            const groups = Object.keys(results);
            if (groups.length === 0) {
                document.getElementById('stats-bar').style.display = 'none';
                return;
            }
            document.getElementById('stats-bar').style.display = 'flex';
            document.getElementById('stat-groups').textContent = groups.length;
            document.getElementById('stat-stations').textContent = stationCount;
            const hotGroup = groups.reduce((a, b) => results[a].size > results[b].size ? a : b);
            document.getElementById('stat-hot').textContent = hotGroup;
        }
    </script>
</body>

</html>